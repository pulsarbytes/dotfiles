##### Basics
set -g default-shell /usr/bin/zsh
set -g default-terminal xterm-256color

# Prefix: Ctrl-a
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Fast reload
bind r source-file ~/.tmux.conf \; display-message "tmux reloaded"

##### Splits (no symbols, auto-unzoom first)
# s = stack (vertical split -> new pane below)
unbind -T prefix s
bind -T prefix s if -F '#{pane_zoomed_flag}' 'resize-pane -Z; split-window -v' 'split-window -v'

# v = side-by-side (horizontal split -> new pane right)
unbind -T prefix v
bind -T prefix v if -F '#{pane_zoomed_flag}' 'resize-pane -Z; split-window -h' 'split-window -h'

##### Quality of life
# Toggle zoom
bind z resize-pane -Z

# Toggle synchronize panes (type into all panes)
bind S setw synchronize-panes \; display-message "synchronize-panes: #{?synchronize-panes,on,off}"

# Swap panes
bind < swap-pane -U
bind > swap-pane -D

# New/kill
bind c new-window
bind x kill-pane
bind & kill-window

# Quick window movement
bind n next-window
bind p previous-window
bind 0 select-window -t :0
bind 1 select-window -t :1
bind 2 select-window -t :2
bind 3 select-window -t :3
bind 4 select-window -t :4
bind 5 select-window -t :5
bind 6 select-window -t :6
bind 7 select-window -t :7
bind 8 select-window -t :8
bind 9 select-window -t :9

##### Copy-mode (vi)
setw -g mode-keys vi
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-selection-and-cancel

##### Mouse (optional)
set -g mouse on

##### Status line (optional minimal styling)
set -g status-interval 2
set -g status-left "#[bold]#S #[fg=colour238]|#[default] "
set -g status-right "#[fg=colour238]%Y-%m-%d %H:%M #[default]"
